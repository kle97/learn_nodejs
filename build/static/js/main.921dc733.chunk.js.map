{"version":3,"sources":["Notes.js","Notification.js","Footer.js","services/notes.js","services/login.js","Togglable.js","LoginForm.js","NoteForm.js","App.js","index.js"],"names":["Notes","note","toggleImportance","deleteFunc","label","important","className","content","onClick","value","Notification","message","Footer","style","color","fontStyle","fontSize","token","getAll","a","axios","get","response","data","create","newObject","config","headers","Authorization","post","update","id","put","remove","delete","setToken","newToken","login","credentials","Togglable","props","useState","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","buttonLabel","children","LoginForm","handleSubmit","handleUsernameChange","handlePasswordChange","username","password","onSubmit","onChange","type","NoteForm","handleChange","App","notes","setNotes","newNote","setNewNote","showAll","setShowAll","errorMessage","setErrorMessage","setUsername","setPassword","user","setUser","addNote","event","preventDefault","noteObject","Math","random","noteService","then","returnedNote","concat","handleNoteChange","console","log","target","notesToShow","filter","useEffect","initialNotes","loggedUserJSON","window","localStorage","getItem","JSON","parse","toggleImportanceOf","changedNote","map","current","catch","error","statusText","setTimeout","deleteNotes","confirm","index","findIndex","handleLogin","loginService","setItem","stringify","name","removeItem","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.921dc733.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Notes = ({note, toggleImportance, deleteFunc}) => {\r\n    const label = note.important ? 'make not important' : 'make important'\r\n    return (\r\n        <li className={'note'}>{note.content}\r\n            <button onClick={toggleImportance}>{label}</button>\r\n            <button value={note.content} onClick={deleteFunc}>delete</button>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Notes","import React from \"react\";\r\n\r\nconst Notification = ({message}) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"error\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React from \"react\";\r\n\r\nconst Footer = () => {\r\n    const footerStyle = {\r\n        color: 'green',\r\n        fontStyle: 'italic',\r\n        fontSize: 16\r\n    }\r\n    return (\r\n        <div style={footerStyle}>\r\n            <br/>\r\n            <em>Note app, Department of Computer Science, University of Helsinki 2020</em>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Footer","import axios from 'axios'\r\nconst baseUrl = '/api/notes'\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n    token = `bearer ${newToken}`\r\n}\r\n\r\nconst getAll = async () => {\r\n    const response = await axios.get(baseUrl)\r\n    return response.data\r\n}\r\n\r\nconst create = async newObject => {\r\n    const config = {\r\n        headers: { Authorization: token },\r\n    }\r\n\r\n    const response = await axios.post(baseUrl, newObject, config)\r\n    return response.data\r\n}\r\n\r\nconst update = async (id, newObject) => {\r\n    const config = {\r\n        headers: { Authorization: token },\r\n    }\r\n\r\n    const response = await axios.put(`${baseUrl}/${id}`, newObject, config)\r\n    return response.data\r\n}\r\n\r\nconst remove = async (id) =>{\r\n    const config = {\r\n        headers: { Authorization: token },\r\n    }\r\n\r\n    const response = await axios.delete(`${baseUrl}/${id}`, config)\r\n    return response.data\r\n}\r\n\r\nexport default {getAll, create, update, remove, setToken}","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n    const response = await axios.post(baseUrl, credentials)\r\n    return response.data\r\n}\r\n\r\nexport default { login }","import React, { useState } from 'react'\r\n\r\nconst Togglable = (props) => {\r\n    const [visible, setVisible] = useState(false)\r\n\r\n    const hideWhenVisible = { display: visible ? 'none' : '' }\r\n    const showWhenVisible = { display: visible ? '' : 'none' }\r\n\r\n    const toggleVisibility = () => {\r\n        setVisible(!visible)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div style={hideWhenVisible}>\r\n                <button onClick={toggleVisibility}>{props.buttonLabel}</button>\r\n            </div>\r\n            <div style={showWhenVisible}>\r\n                {props.children}\r\n                <button onClick={toggleVisibility}>cancel</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Togglable","import React from 'react'\r\n\r\nconst LoginForm = ({handleSubmit, handleUsernameChange, handlePasswordChange, username, password}) => {\r\n    return (\r\n        <div>\r\n            <h2>Login</h2>\r\n\r\n            <form onSubmit={handleSubmit}>\r\n                <div>\r\n                    username\r\n                    <input value={username} onChange={handleUsernameChange}/>\r\n                </div>\r\n                <div>\r\n                    password\r\n                    <input type=\"password\" value={password} onChange={handlePasswordChange}\r\n                    />\r\n                </div>\r\n                <button type=\"submit\">login</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginForm","import React from 'react'\r\n\r\nconst NoteForm = ({ onSubmit, handleChange, value}) => {\r\n    return (\r\n        <div>\r\n            <h2>Create a new note</h2>\r\n\r\n            <form onSubmit={onSubmit}>\r\n                <input value={value} onChange={handleChange}\r\n                />\r\n                <button type=\"submit\">save</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NoteForm","import React, {useEffect, useState} from 'react'\nimport Notes from './Notes'\nimport Notification from \"./Notification\"\nimport Footer from \"./Footer\"\nimport noteService from './services/notes'\nimport loginService from \"./services/login\"\nimport Togglable from \"./Togglable\"\nimport LoginForm from \"./LoginForm\"\nimport NoteForm from \"./NoteForm\";\n\nconst App = () => {\n    const [notes, setNotes] = useState([])\n    const [newNote, setNewNote] = useState('')\n    const [showAll, setShowAll] = useState(true)\n    const [errorMessage, setErrorMessage] = useState(null)\n    const [username, setUsername] = useState('')\n    const [password, setPassword] = useState('')\n    const [user, setUser] = useState(null)\n    const [loginVisible, setLoginVisible] = useState(false)\n\n    const addNote = (event) => {\n        event.preventDefault()\n        const noteObject = {\n            content: newNote,\n            important: Math.random() < 0.5,\n        }\n\n        noteService.create(noteObject).then(returnedNote => {\n            setNotes(notes.concat(returnedNote))\n            setNewNote('')\n        })\n    }\n\n    const handleNoteChange = (event) => {\n        console.log(event.target.value)\n        setNewNote(event.target.value)\n    }\n\n    const notesToShow = showAll\n        ? notes\n        : notes.filter(note => note.important)\n\n    useEffect(() => {\n        noteService.getAll().then(initialNotes => {\n            setNotes(initialNotes)\n        })\n    }, [])\n\n    useEffect(() => {\n        const loggedUserJSON = window.localStorage.getItem('loggedNoteappUser')\n        if (loggedUserJSON) {\n            const user = JSON.parse(loggedUserJSON)\n            setUser(user)\n            noteService.setToken(user.token)\n        }\n    }, [])\n\n    const toggleImportanceOf = (note) => () => {\n        const changedNote = {...note, important: !note.important}\n\n        noteService.update(note.id, changedNote)\n            .then(returnedNote => {\n                setNotes(notes.map(current => note.id !== current.id ? current : returnedNote))\n            })\n            .catch(error => {\n                setErrorMessage(error.response.statusText)\n                console.log(error.message)\n                console.log(error.response)\n                setTimeout(() => {\n                    setErrorMessage(null)\n                }, 5000)\n            })\n    }\n\n    const deleteNotes = (event) => {\n        if (window.confirm(\"Delete \" + event.target.value + \"?\")) {\n            const index = notes.findIndex(current => current.content === event.target.value)\n            const id = notes[index].id\n            noteService.remove(id)\n                .then(() => {\n                    setNotes(notes.filter(current => current.id !== id))\n                })\n                .catch(error => {\n                    setErrorMessage(error.response.statusText)\n                    console.log(error.message)\n                    console.log(error.response)\n                    setTimeout(() => {\n                        setErrorMessage(null)\n                    }, 5000)\n                })\n        }\n    }\n\n    const handleLogin = async (event) => {\n        event.preventDefault()\n\n        try {\n            const user = await loginService.login({\n                username, password,\n            })\n            window.localStorage.setItem(\n                'loggedNoteappUser', JSON.stringify(user)\n            )\n            noteService.setToken(user.token)\n            setUser(user)\n            setUsername('')\n            setPassword('')\n        } catch (exception) {\n            setErrorMessage('Wrong credentials')\n            setTimeout(() => {\n                setErrorMessage(null)\n            }, 5000)\n        }\n    }\n\n    const handleLogout = () => {\n        window.localStorage.removeItem('loggedNoteappUser')\n        noteService.setToken('')\n        setUser(null)\n    }\n\n    const loginForm = () => (\n        <Togglable buttonLabel='login'>\n            <LoginForm\n                username={username}\n                password={password}\n                handleUsernameChange={(event) => setUsername(event.target.value)}\n                handlePasswordChange={(event) => setPassword(event.target.value)}\n                handleSubmit={handleLogin}\n            />\n        </Togglable>\n    )\n\n    const noteForm = () => (\n        <Togglable buttonLabel=\"new note\">\n            <NoteForm onSubmit={addNote} value={newNote} handleChange={handleNoteChange}/>\n        </Togglable>\n    )\n\n    return (\n        <div>\n            <h1>Notes</h1>\n            <Notification message={errorMessage}/>\n\n            {user === null ?\n                loginForm() :\n                <div>\n                    <p>{user.name} logged-in</p>\n                    {noteForm()}\n                    <button onClick={handleLogout}>\n                        log out\n                    </button>\n                </div>\n            }\n\n            <div>\n                <button onClick={() => setShowAll(!showAll)}>\n                    show {showAll ? 'important' : 'all'}\n                </button>\n            </div>\n\n            <ul>\n                {notesToShow.map(note => <Notes\n                    key={note.id}\n                    note={note}\n                    toggleImportance={toggleImportanceOf(note)}\n                    deleteFunc={deleteNotes}/>)}\n            </ul>\n\n            <Footer/>\n        </div>\n    )\n}\n\nexport default App\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n    <App/>,\r\n    document.getElementById('root')\r\n)"],"sourceRoot":""}